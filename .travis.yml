language: ruby
cache: bundler
rvm:
  - 1.9.3
before_script:
  - cp config/database.travis.yml config/database.yml
  - mysql -e 'create database datanest_app_test'
  - mysql -e 'create database datanest_data_test'
  - mysql -e 'create database datanest_staging_test'
  - cp config/initializers/secret_token.rb.example config/initializers/secret_token.rb
  - cp config/initializers/site_keys.rb.example config/initializers/site_keys.rb
  - cp config/datacamp_config.yml.example config/datacamp_config.yml
  - bundle exec rake db:schema:load
  - bundle exec rake db_staging:schema:load
  - bundle exec rake db_data:schema:load
script:
  - bundle exec rspec spec/
